{
  "infrastructureVersion": "5.0.0",
  "schemaVersion": "1.0.0",
  "createdAt": "2026-01-03T00:00:00Z",
  "lastUpdated": "2026-01-29T00:00:00Z",
  "migratedFrom": null,
  "generatedBy": "claudenv-init",
  "changelog": {
    "5.0.0": "Native Claude Code integration: (1) Consolidate 3 PreToolUse hooks into single unified-gate.sh (3 bash processes → 1 per write). (2) Consolidate 3 PostToolUse hooks into single post-write.sh. (3) Remove redundant rule files (parallel-execution.md, error-recovery/core.md, documentation.md) that restate native behavior. (4) Trim autonomy.md and permissions/core.md to remove entries already enforced by settings.json. (5) Add Setup hook for bootstrap on claude --init. (6) Add task-bridge.sh for TODO.md ↔ native TaskCreate/TaskList integration. (7) Deprecate todo-coordinator.sh (lock-file mechanism replaced by native task concurrency). (8) Simplify plan-sync.sh (remove TODO.md sync, keep plan frontmatter only). (9) Simplify phase-manager.sh (status reporting only, task manipulation via native tools).",
    "4.10.0": "ClawdBot-inspired improvements: (1) Add /ce:think command for runtime thinking depth control (off/low/medium/high/max), persisted in session state. (2) Memory improvements: daily session logs in memory/daily/, decisions auto-populate memory/decisions.md, new memory templates. (3) New /ce:hooks command for hook management (list/info/toggle). (4) New /ce:usage command for token usage tracking and cost estimates.",
    "4.9.0": "Restructure learning directory: Move ephemeral files (observations.md, pending-*.md, proposals.md, patterns.json) to learning/working/ subdirectory. Root learning/ now contains only tracked files (README.md, implemented.md). Update gitignore to ignore learning/working/* with .gitkeep. Update 12+ scripts/skills with new paths.",
    "4.8.0": "Enhanced session state enforcement: (1) Read-before-write enforcement - blocks edits to files not read in session via track-read.sh + read-before-write.sh hooks, (2) Auto-focus integration - /ce:execute auto-extracts plan files and locks focus during execution, (3) Mandatory handoff - session-end.sh creates .needs-handoff marker when work incomplete, session-start.sh warns about missed handoff, (4) Decision prompts - decision-reminder.sh shows reminders after 5+ file edits or critical file changes (package.json, configs, etc).",
    "4.7.0": "Add session state management: New /ce:focus command to set, lock, and clear work focus. Session state persists in .claude/state/session-state.json tracking focus (active plan, files in scope), decisions, blockers, and handoff notes. Session-start hook displays current focus and handoff from previous session. Session-end hook reminds to capture handoff. Focus lock enforcement blocks edits outside scope when locked. State-manager.sh handles all state operations.",
    "4.6.0": "Add plan enforcement system: Unified code-gate.sh combines TDD + plan checks with single clear message. New /ce:quick-plan for lightweight 30-60 min tasks (starts in_progress immediately). New /ce:plans to list plans by status. New /ce:complete to mark plans done. Small file exemption (<50 lines skip plan requirement). Smart file matching using explicit files: fields in plans. plan-sync.sh for TODO.md status sync.",
    "4.5.0": "Add TDD enforcement (ENABLED BY DEFAULT): PreToolUse hook blocks writes to implementation files unless corresponding test exists. New /ce:tdd command (disable/enable/status). New tdd skill for red-green-refactor workflow guidance. TDD rule explains file mapping and enforcement. Disable per-project with .claude/tdd-disabled marker.",
    "4.4.0": "Add critical practices to core rules: read-before-modify (prevent speculation), source verification (cross-reference 2+ sources). Add /ce:verbose command for verbosity toggle (on/off/status) to enable detailed explanations for learning. Update meta-skill and project-interview with source verification requirements.",
    "4.3.0": "Holistic UX integration: Embed 6-pass UX analysis into development pipeline. /ce:interview now has --quick/--demo modes with PRD+UX phases. /ce:spec classifies features by interface type and required UX passes. /ce:feature includes Phase 0.5 for UX analysis with --output prompts/design and --target stitch/v0/polymet options. SPEC.md template adds Experience Design section. frontend-design skill requires UX analysis before visuals. Add references/ux-analysis-guide.md.",
    "4.2.0": "Progressive disclosure infrastructure: Add agent tiering (4 core, 14 on-demand in agents/index.json), tool-search skill for capability discovery, memory/ directory for file-based persistence, MCP experimental CLI flag documentation.",
    "4.1.2": "Evaluate parallel opportunities on every prompt",
    "4.1.1": "Add parallel-execution.md rule: prefer subagents for independent work, launch up to 15 agents concurrently for parallelizable tasks.",
    "4.1.0": "Add skill namespacing: skills moved to skills/claudenv/ (ce: namespace). Workspace skills go in skills/workspace/ (ws: namespace). Optional namespace prefix for invocation (ce:skill-name or ws:skill-name). Hook commands now auto-find project root from subdirectories.",
    "4.0.0": "BREAKING: Rename all commands to /ce:* namespace. Add GSD-inspired features: fresh context execution (default for /ce:loop), structured task format (files/action/verify/done), atomic commits (--commit-per-task), codebase mapping (/ce:map with 6 analyst agents), enhanced state tracking (/ce:blocker), context budget tracking, phase management (/ce:phase). New scripts: loop-context-packager.sh, map-codebase.sh, phase-manager.sh, task-commit.sh.",
    "3.0.13": "Tiered documentation: Add full reference versions (autonomy-guide.md, permissions-guide.md, error-recovery-guide.md) alongside compressed rules. Compressed rules now link to full references for on-demand detail access.",
    "3.0.12": "Major context optimization: Move reference.md/migration.md/coordination.md to references/ for on-demand loading. Semantic compression of all rules (50%+ reduction). Estimated total savings: ~8k tokens.",
    "3.0.11": "Deprecate old monolithic rule files (claudenv.md, error-recovery.md, permissions.md, trigger-reference.md) in favor of split structure. Reduces memory file context by ~10k tokens.",
    "3.0.10": "Fix duplicate framework files in monorepo/workspace setups. Installer now detects parent .claude/ and skips framework directories (skills, commands, rules, scripts, templates, agents, orchestration) for subprojects. Add cleanup-duplicate-skills.sh for existing installations.",
    "3.0.9": "Token optimization (76% reduction) via namespaced rules structure with conditional loading. Fix hook scripts to auto-locate project root.",
    "3.0.8": "Add documentation.md rule - automatic doc updates with code changes",
    "3.0.7": "Add bin/test runner",
    "3.0.6": "Move installer to bin/install, remove install.sh",
    "3.0.5": "Add test step to /shipit command - tests must pass before release",
    "3.0.4": "Add manifest validation tests (10 tests) to catch missing files in distribution",
    "3.0.3": "Add .gitignore for installed projects to ignore runtime state, add v3.0.0 scripts to manifest",
    "3.0.2": "Fix manifest.json path reference/README.md to references/README.md",
    "3.0.1": "Extract workspace package to standalone repo, add template variable substitution for generated files",
    "3.0.0": "Ultimate Autonomous Workflow: Add incremental validation (task/phase/feature tiers), git feature isolation (branch per feature with rollback), dependency graph (smart execution order), comprehensive test suite (74 tests, 100% action coverage)",
    "2.6.4": "Add comprehensive project analysis to /docs command, distinguish framework vs project files using manifest",
    "2.6.3": "Fix /docs command to only update framework files when run from claudenv repo, fix deprecated colon syntax in docs",
    "2.6.2": "Add /docs command for documentation updates, /shipit command for releases",
    "2.6.1": "Add /backlog command to send current or specified task to backlog. Standardize timestamps to YYYY-MM-DD HH:MM format across all generated files",
    "2.6.0": "PIV workflow refactor: Add /spec (project setup orchestrator), /autopilot (fully autonomous feature completion). Enhance /loop with --plan flag for structured plan execution. Refactor /execute as thin orchestrator calling /loop + /validate. Rewrite /next for interactive feature workflow. Add /reflect evolve for system evolution analysis",
    "2.5.0": "Add PIV workflow: /prime, /feature, /execute, /validate, /rca commands. Add .claude/reference/ for curated docs, .claude/plans/ and .claude/rca/ for artifacts",
    "2.4.5": "Version bump to propagate TODO.md template and loop-cleanup.sh",
    "2.4.4": "Add TODO.md template to dist, add loop-cleanup.sh to manifest",
    "2.4.3": "Auto-create TODO.md in .claude/ during installation if none exists",
    "2.4.2": "Look for TODO.md in .claude/ first, then fall back to repo root",
    "2.4.1": "Fix coordination/loop scripts to resolve paths relative to git repo root instead of CWD",
    "2.4.0": "Adopt Claude Code 2.1 features: context:fork for skills, agent field, YAML-style allowed-tools, skill hooks, once:true hooks, new wildcard bash permissions",
    "2.3.14": "Add multi-agent coordination system for parallel terminal execution",
    "2.3.13": "Add /next command for task planning and /loop command generation",
    "2.3.12": "Use absolute paths in hook commands for reliable execution",
    "2.3.11": "Add graceful exit to hook scripts when not in project root",
    "2.3.10": "Fix apply-update.sh counter variables in subshell",
    "2.3.9": "Fix apply-update.sh shell compatibility and empty file handling",
    "2.3.8": "Consolidate subcommands, add triggers.json for agents/skills, add trigger-reference.md rule",
    "2.3.7": "Fix installer to preserve custom content, add infrastructure-* to deprecated list",
    "2.3.6": "Convert commands to JSON-output pattern for inline formatting, add audit/debug/backup scripts",
    "2.3.5": "Add check-update.sh and apply-update.sh for update command",
    "2.3.4": "Add proposal-based skill/agent creation from patterns, fix grep exit code handling",
    "2.3.3": "Add manifest-based updates to remove deprecated files while preserving user content",
    "2.3.2": "Fix update command to stop when versions match, use cache buster for version check",
    "2.3.1": "Add session hooks (start/stop/post-tool), automatic update check, agents inherit model",
    "2.3.0": "Add subagent orchestration, 12 built-in agents, agent-creator skill, 50+ tech mappings",
    "2.2.0": "Add /reflect command, automatic correction capture, Project Facts in CLAUDE.md",
    "2.1.0": "Move distributable content to dist/, add symlinks for self-dogfooding",
    "2.0.0": "Restructure repo - root IS .claude content, framework in rules/claudenv.md",
    "1.0.6": "Add skill-creator skill with init, validate, package scripts",
    "1.0.5": "Restructure skills to follow Agent Skills spec (references/, assets/)",
    "1.0.4": "Rename skills, fix descriptions for auto-invoke",
    "1.0.3": "Add /skills:triggers and /claudenv:audit commands",
    "1.0.2": "Add /claudenv:mcp command for MCP server management",
    "1.0.1": "Fix permissions format to use Bash(command:*) syntax"
  }
}
